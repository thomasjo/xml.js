/*! Copyright (c) 2012 fluxLoop AS | https://raw.github.com/fluxloop/xml.js/master/LICENSE */
;(function(){var c=this,e=c.XML,a={};a.VERSION="0.1.1";a.objectify=function(g){var h;if(typeof g==="string"){g=b(g)}if(g){if(g.nodeType===c.Node.DOCUMENT_NODE){return this.objectify(g.documentElement)}g.normalize();h={};h[g.nodeName]=d(g)}return h};a.stringify=function(h){var g="",i;for(i in h){if(h.hasOwnProperty(i)){g+=f(h[i],i)}}return g};a.noConflict=function(){c.XML=e;return this};if(typeof module!=="undefined"&&typeof module!=="function"){module.exports=a}else{if(typeof define==="function"&&define.amd){define(a)}else{c.XML=a}}function d(k){var n={},m,j,g,h,l;if(k.nodeType!==c.Node.ELEMENT_NODE){throw new Error("Unsupported node type: "+k.nodeType)}for(h=0,l=k.attributes.length;h<l;h++){m=k.attributes[h];n["@"+m.nodeName]=m.nodeValue}for(h=0,l=k.childNodes.length;h<l;h++){j=k.childNodes[h];g=j.nodeName;if(j.nodeType===3){childNodeValue=j.nodeValue.trim();if(childNodeValue!==""){n["#text"]=childNodeValue}}else{if(n[g]){if(n[g] instanceof Array){n[g].push(d(j))}else{n[g]=[n[g],d(j)]}}else{n[g]=d(j)}}}return n}function f(m,g){var l="",j=[],n,h,k;if(m instanceof Array){for(h=0,k=m.length;h<k;h++){l+=f(m[h],g)}}else{if(typeof m==="object"){l+="<"+g;for(n in m){if(m.hasOwnProperty(n)){if(n.charAt(0)==="@"){l+=" "+n.substr(1)+'="'+m[n]+'"'}else{j.push(n)}}}if(j.length){l+=">";for(h=0,k=j.length;h<k;h++){n=j[h];if(n==="#text"){l+=m[n]}else{if(n.charAt(0)!=="@"){l+=f(m[n],n)}}}l+="</"+g+">"}else{l+="/>"}}else{l+="<"+g+">"+m+"</"+g+">"}}return l}function b(h){var j,i;if(c.DOMParser){try{j=new c.DOMParser();i=j.parseFromString(h,"text/xml")}catch(g){i=undefined}}else{throw new Error("DOMParser is required.")}if(!i||i.getElementsByTagName("parsererror").length){throw new Error("Unable to parse XML.")}return i}}).call(this);